opacity = 0,
popup = paste0("{data_map$GEN}", "<br>", "{data_map$Koprtnn}"))
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 4) %>%
addPolygons(color = pal(data_map$Koprtnn),
stroke = 1,
opacity = 1,
popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = "Legend",
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = "Legend",
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = "Legend",
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
label = sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Koprtnn) %>%
#  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = "Legend",
opacity = 1)
q()
library(tidyverse)
library(sf)
data <- read_sf("full_2.shp")
View(data)
View(data)
data_map <- st_transform(data, crs = '+proj=longlat +datum=WGS84')
pal <- colorNumeric(palette = "viridis", domain = data_map$Koprtnn)
library(leaflet)
pal <- colorNumeric(palette = "viridis", domain = data_map$Koprtnn)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
label = sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Koprtnn) %>%
#  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
library(htmlwidgets)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
label = sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Koprtnn) %>%
#  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
#           #  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 4.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
#           #  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
#           #  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.4) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
#           #  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9) %>%
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
#           #  popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
# label = sprintf("<strong>%s</strong><br/>Wert: %g",
#   data_map$GEN, data_map$Koprtnn) %>%
popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Koprtnn)) %>%
# popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
labels <- sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Koprtnn) %>%
lapply(htmltools::HTML)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
# popup = paste0('{GEN}<br>Wert: {Koprtnn}')) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal, values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = colorNumeric(c("red", "yellow", "green"), domain = data_map$Koprtnn),
values = ~Koprtnn,
title = NULL,
opacity = 1)
pal <- colorNumeric(c("red", "yellow", "green"), domain = data_map$Koprtnn)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = ~pal,
values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = ~pal,
values = ~Koprtnn,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels)
pal <- colorNumeric(c("green", "yellow", "red"), domain = data_map$Koprtnn)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Koprtnn),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal,
values = ~Koprtnn,
title = NULL,
opacity = 1)
View(data_map)
library(shiny); runApp('app1.R')
data_map <- read_sf("full_2.shp") %>%
st_transform(., crs = '+proj=longlat +datum=WGS84') %>%
pivot_longer(cols = -c(GEN, geometry),
values_to = "Wert",
names_to = "Kategorie")
View(data_map)
runApp('app1.R')
runApp('app1.R')
View(data_map)
View(data_map)
data_map <- read_sf("full_2.shp") %>%
st_transform(., crs = '+proj=longlat +datum=WGS84') %>%
mutate(
DV = round(DV * 100, 2),
DV_1 = round(DV_1 * 100, 2)) %>%
rename(
"AfD-Antr√§ge" = "AfD-Ant",
"Kooperationen" = "Koprtnn",
"starke Kooperationen" = "vKoop",
"% Kooperation" = "DV",
"% starke Kooperation" = "DV_1"
) %>%
pivot_longer(cols = c("AfD-Antr√§ge", "Kooperationen", "starke Kooperationen",
"% Kooperation", "% starke Kooperation"),
names_to = "Kategorie",
values_to = "Wert")
View(data)
runApp()
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
library(shiny); runApp('app1.R')
library(shiny); runApp('app1.R')
library(shiny); runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
library(shiny); runApp('app1.R')
library(shiny); runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
library(shiny); runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
View(data_map)
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
q()
library(tidyverse)
library(sf)
library(leaflet)
library(htmlwidgets)
library(shiny)
data_map <- read_sf("full_2.shp") %>%
st_transform(., crs = '+proj=longlat +datum=WGS84') %>%
mutate(
DV = round(DV * 100, 2),
DV_1 = round(DV_1 * 100, 2)) %>%
rename(
"AfD-Antr√§ge" = "AfD-Ant",
"Kooperationen" = "Koprtnn",
"starke Kooperationen" = "vKoop",
"% Kooperation" = "DV",
"% starke Kooperation" = "DV_1"
) %>%
pivot_longer(cols = c("AfD-Antr√§ge", "Kooperationen", "starke Kooperationen",
"% Kooperation", "% starke Kooperation"),
names_to = "Kategorie",
values_to = "Wert")
runApp('app1.R')
View(data_map)
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
runApp('app1.R')
pal <- colorNumeric(c("green", "yellow", "red"), domain = data_map$Wert)
labels <- sprintf("<strong>%s</strong><br/>Wert: %g",
data_map$GEN, data_map$Wert) %>%
lapply(htmltools::HTML)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Wert),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal,
values = ~Wert,
title = NULL,
opacity = 1)
pal <- colorNumeric(c("green", "red"), domain = data_map$Wert)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = ~pal(Wert),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal,
values = ~Wert,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = colorNumeric(c("green", "red"), domain = data_map$Wert),
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal,
values = ~Wert,
title = NULL,
opacity = 1)
data_map %>%
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = 9.49, lat = 51,31, zoom = 5.5) %>%
addPolygons(fillColor = data_map$Wert,
weight = 2,
opacity = 1,
color = "white",
fillOpacity = 0.9,
label = labels) %>%
addLegend(data = data_map,
position = "bottomright",
pal = pal,
values = ~Wert,
title = NULL,
opacity = 1)
runApp('app1.R')
runApp('app1.R')
